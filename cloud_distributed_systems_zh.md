---
title: é›²èˆ‡åˆ†æ•£å¼ç³»çµ±ç­†è¨˜ (ä¸­æ–‡ç‰ˆ)
tags: [cloud, distributed-systems, notes, ä¸­æ–‡]
updated: 2025-09-27
---

# é›²èˆ‡åˆ†æ•£å¼ç³»çµ±ç­†è¨˜ (ä¸­æ–‡ç‰ˆ)

## 1. åˆ†æ•£å¼ç³»çµ±æ˜¯ä»€éº¼ï¼Ÿ
- **å®šç¾©**ï¼šç”±å¤šå€‹ç¨ç«‹é›»è…¦çµ„æˆï¼Œå°ä½¿ç”¨è€…ä¾†èªªå»åƒæ˜¯ä¸€å°å–®ä¸€é›»è…¦ã€‚  
- **æ ¸å¿ƒè­°é¡Œ**ï¼š
  - å„²å­˜ (Storage)
  - è¨ˆç®— (Computation)
  - è¨Šæ¯å‚³é (Messaging)

---

## 2. å„²å­˜ (Storage)

### 2.1 å–®ä¸€ä¸»ç¯€é» (Single-Master Storage)
- ä¸€å€‹ç¯€é»è² è²¬å¯«å…¥ï¼Œå…¶å®ƒç¯€é»ç”¨ä¾†è®€å–ã€‚
- å•é¡Œï¼šè‹¥ä¸»ç¯€é»å¤±æ•ˆ â†’ éœ€è¦åˆ‡æ›æˆ–å®¹éŒ¯æ©Ÿåˆ¶ã€‚

### 2.2 è®€å–è¤‡è£½ (Read Replication)
- å¤šå€‹å‰¯æœ¬ä»¥æå‡è®€å–æ•ˆèƒ½ã€‚
- é©åˆè®€å¤šæ–¼å¯«çš„æ‡‰ç”¨ã€‚

### 2.3 åˆ†ç‰‡ (Sharding)
- **å®šç¾©**ï¼šå°‡è³‡æ–™åˆ‡åˆ†ï¼Œåˆ†æ•£åˆ°ä¸åŒç¯€é»ã€‚
- æ–¹æ³•ï¼š
  - ç´¢å¼•åˆ†ç‰‡ (Index-based)
  - Join åˆ†ç‰‡ï¼ˆå¯é…åˆè³‡æ–™åæ­£è¦åŒ– Denormalizationï¼‰

### 2.4 ä¸€è‡´æ€§é›œæ¹Š (Consistent Hashing)
- è³‡æ–™åˆ†é…åˆ°ç¯€é»çš„æ¼”ç®—æ³•ã€‚
- é—œéµå…¬å¼ï¼š`R + W > N`  
  - R = è®€å–å‰¯æœ¬æ•¸  
  - W = å¯«å…¥å‰¯æœ¬æ•¸  
  - N = ç¸½å‰¯æœ¬æ•¸  
- ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§ã€‚

### 2.5 CAP å®šç†
- **Consistency**ï¼šä¸€è‡´æ€§  
- **Availability**ï¼šå¯ç”¨æ€§  
- **Partition Tolerance**ï¼šåˆ†å€å®¹å¿åº¦  
- ç†è«–ï¼šåœ¨ç¶²è·¯åˆ†å€æ™‚ï¼Œåªèƒ½æ»¿è¶³å…¶ä¸­å…©å€‹ã€‚

---

## 3. è¨ˆç®— (Computation)

### 3.1 Hadoop
- æ‰¹æ¬¡è™•ç† (Batch Processing)
- é©åˆå¤§è¦æ¨¡è³‡æ–™çš„é›¢ç·šè™•ç†ã€‚

### 3.2 Spark
- è¨˜æ†¶é«”ç‚ºä¸»çš„åˆ†æ•£å¼è¨ˆç®—å¼•æ“ã€‚
- æ”¯æ´å³æ™‚è™•ç†èˆ‡æ‰¹æ¬¡è™•ç†ã€‚

---

## 4. è¨Šæ¯å‚³é (Messaging)

### 4.1 Message Queue
- è§£è€¦åˆç³»çµ±å…ƒä»¶ã€‚
- ç¯„ä¾‹ï¼šRabbitMQ, ActiveMQã€‚

### 4.2 Streaming
- è³‡æ–™æµè™•ç†ã€‚
- ç¯„ä¾‹ï¼šApache Kafkaã€‚

---

## 5. å°çµ
- åˆ†æ•£å¼ç³»çµ±çš„æŒ‘æˆ°ï¼š
  - ä¸€è‡´æ€§ (Consistency)
  - å¯ç”¨æ€§ (Availability)
  - å®¹éŒ¯æ€§ (Fault Tolerance)
- å·¥å…·èˆ‡æ¡†æ¶ï¼š
  - Hadoop / Spark â†’ è¨ˆç®—
  - Cassandra / DynamoDB â†’ å„²å­˜
  - Kafka â†’ è¨Šæ¯å‚³é
- æ ¸å¿ƒè¨­è¨ˆç†å¿µï¼š**å½ˆæ€§ã€å®¹éŒ¯ã€å¯æ“´å±•æ€§**ã€‚

---

## ğŸ“š å»¶ä¼¸é–±è®€
- [CAP Theorem](https://en.wikipedia.org/wiki/CAP_theorem)
- [Consistency Models](https://jepsen.io/)
- [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/)
